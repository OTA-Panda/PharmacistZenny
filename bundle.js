!function(t){var i={};function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)s.d(e,o,function(i){return t[i]}.bind(null,o));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=0)}([function(t,i,s){"use strict";s.r(i);class e{constructor(t,i,s,e,o){this.context=t,this.position=i,this.orientation=s,this.color=e,this.attached=!0,this.space=o}getPillAngle(t){switch(t){case"up":return-90;case"down":return 90;case"left":return 180;case"right":return 0}}getPillOrientation(){return this.orientation}setPillOrientation(t){return this.orientation=t,this}getPillPosition(){return this.position}setPillPosition(t){return this.position=t,this}draw(){let t=this.position.x,i=this.position.y,s=this.space,e=this.getPillAngle(this.orientation);const o=this.space/20,l=o/2;this.context.fillStyle=this.color,this.context.lineWidth=o,this.context.strokeStyle="black",this.context.save(),this.context.translate(t+s/2,i+s/2),this.context.rotate(Math.PI/180*e),this.context.translate(-t-s/2,-i-s/2),this.context.beginPath(),this.context.moveTo(t,i+l),this.context.lineTo(t+s/2,i+l),this.context.bezierCurveTo(t+.775*s,i+l,t+s-l,i+l+.225*s,t+s-l,i+s/2),this.context.bezierCurveTo(t+s-l,i+s-l-.225*s,t+.775*s,i+s-l,t+s/2,i+s-l),this.context.lineTo(t,i+s-l),this.context.closePath(),this.context.fill(),this.context.stroke(),this.context.restore()}}var o=class{constructor(t,i,s,o,l){this.context=t,this.bottle=i,this.position=s,this.space=l,this.connected=!0,this.active=!0,this.positionA=s,this.positionB={x:s.x+l,y:s.y},this.colorA=o[Math.random()*o.length|0],this.colorB=o[Math.random()*o.length|0],this.pillA=new e(t,this.positionA,"left",this.colorA,l),this.pillB=new e(t,this.positionB,"right",this.colorB,l)}draw(){this.pillA.draw(),this.pillB.draw()}hasCollision(){const[t,i,s,e]=this.getCoords();return 0!==this.board[t][i]&&0!==this.board[s][e]}drop(){const[t,i,s,e]=this.getCoords();this.pillA.setPillPosition({x:t,y:i+this.space}),this.pillB.setPillPosition({x:s,y:e+this.space})}land(){const[t,i,s,e]=this.getCoords();this.bottle.fillSpace(t,i),this.bottle.fillSpace(s,e)}getCoords(){return[this.pillA.getPillPosition().x,this.pillA.getPillPosition().y,this.pillB.getPillPosition().x,this.pillB.getPillPosition().y]}move(t){if(this.active){const[i,s,e,o]=this.getCoords();t>0?(this.pillA.setPillPosition({x:i+this.space,y:s}),this.pillB.setPillPosition({x:e+this.space,y:o})):(this.pillA.setPillPosition({x:i-this.space,y:s}),this.pillB.setPillPosition({x:e-this.space,y:o}))}}rotate(t){if(this.active)if(t>0)switch(this.pillA.getPillOrientation()){case"left":this.pillA.setPillPosition({x:this.position.x,y:this.position.y-this.space}).setPillOrientation("up"),this.pillB.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("down");break;case"up":this.pillA.setPillPosition({x:this.position.x+this.space,y:this.position.y}).setPillOrientation("right"),this.pillB.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("left");break;case"right":this.pillA.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("down"),this.pillB.setPillPosition({x:this.position.x,y:this.position.y-this.space}).setPillOrientation("up");break;case"down":this.pillA.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("left"),this.pillB.setPillPosition({x:this.position.x+this.space,y:this.position.y}).setPillOrientation("right")}else switch(this.pillA.getPillOrientation()){case"left":this.pillA.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("down"),this.pillB.setPillPosition({x:this.position.x,y:this.position.y-this.space}).setPillOrientation("up");break;case"down":this.pillA.setPillPosition({x:this.position.x+this.space,y:this.position.y}).setPillOrientation("right"),this.pillB.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("left");break;case"right":this.pillA.setPillPosition({x:this.position.x,y:this.position.y-this.space}).setPillOrientation("up"),this.pillB.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("down");break;case"up":this.pillA.setPillPosition({x:this.position.x,y:this.position.y}).setPillOrientation("left"),this.pillB.setPillPosition({x:this.position.x+this.space,y:this.position.y}).setPillOrientation("right")}}};var l=class{constructor(t,i,s,e){this.ctx=t,this.width=s,this.height=e,this.field=this.create()}create(){let t=new Array(this.height);for(let i=0;i<t.length;i++)t[i]=new Array(this.width).fill(0);return t}fillSpace(t,i){return this.field[t][i]=1}};const n=document.getElementById("bottle"),h=n.getContext("2d");h.scale(5,5);const r=["red","yellow","deepskyblue","green"];console.log(n);const a=new l(h,10,8,16);a.fillSpace(15,1);const p=new o(h,a.field,{x:10,y:20},r,10),c=new o(h,a.field,{x:0,y:60},r,10),P=new o(h,a.field,{x:0,y:80},r,10);p.draw(),c.draw(),P.draw(),setTimeout(()=>{p.rotate(1),p.drop(),p.draw(),setTimeout(()=>{p.move(1),p.draw(),setTimeout(()=>{p.rotate(-1),p.draw(),setTimeout(()=>{p.move(-1),p.draw()},1e3)},2e3)},1e3)},1e3)}]);
//# sourceMappingURL=bundle.js.map